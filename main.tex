% !TeX document-id = {9518a27b-c930-4bf6-a805-aa54f9dee147}
% !TeX TXS-program:compile=txs:///latexmk/{}[-pdfxe -synctex=1 -interaction=nonstopmode -file-line-error -silent %]

\documentclass[fontset=fandol]{ctexrep}
\usepackage{accsupp}
\usepackage[margin=2.4cm]{geometry}
\usepackage{listings}
\usepackage{xcolor}
\usepackage[pdfpagelayout=SinglePage]{hyperref}
\usepackage[os=win,hyperrefcolorlinks]{menukeys}

\ctexset{
  chapter ={
    format = \huge\bfseries\raggedright,
    number = \arabic{chapter},
    name   = {},
  },
  section/format = \Large\bfseries\raggedright
}

\lstset{
  backgroundcolor = \color{lightgray!30},
  keywordstyle    = \color{blue},
  stringstyle     = \color{brown},
  basicstyle      = {\small\ttfamily},
  breaklines      = true,
  tabsize         = 4,
  gobble          = 2,
  numbers         = left,
  numberstyle     = \tiny\emptyaccsupp,
  frame           = single,
  xleftmargin     = \ccwd,
  numbersep       = \ccwd,
  columns         = fullflexible,
%  emphstyle       = {\color{blue}\small\ttfamily},
%  emph            = {mkdir,rmdir,sudo,mount,umount,rm},
}

\newcommand\emptyaccsupp[1]{%
  \BeginAccSupp{ActualText={}}#1\EndAccSupp{}%
}

\renewmenumacro{\menu}[>]{angularmenus}
\renewmenumacro{\keys}[+]{shadowedroundedkeys}

\title{\bfseries 一份简短的安装 \LaTeX{} 的介绍\thanks{\url{https://github.com/OsbertWang/install_latex}}}
\author{啸行\thanks{\url{ranwang.osbert@outlook.com}}}
\date{\today}

\usepackage{booktabs}
\usepackage{tikz}
\usetikzlibrary{shapes.geometric, calc}

\tikzset{
  score stars/.style={
    % shape
    star, star points=5, star point ratio=2.25, scale=0.8,
    % color
    draw=gray, fill=#1,
    % others
    inner sep=0.14em, anchor=outer point 3
  }
}

\newcommand\stars[1]{%
  \begin{tikzpicture}
    % Draw five stars. For #1 = "2.3", fill the 1st and 2nd stars as gray,
    % and fill the 3rd to 5th stars as white.
    \foreach \i in {1, ..., 5} {
      \pgfmathsetmacro\starcolor{\i<=#1 ? "gray" : "white"}
      \node[score stars=\starcolor] (star\i) at (\i*0.8em, 0) {};
    }
    % For #1 = "2.3", let \partstar = "3" and \starpart = "0.3".
    % Then fill the left 30% part of the 3rd star as gray after clipping.
    \pgfmathsetmacro\partstar{#1>int(#1) ? int(#1+1) : 0}
    \ifnum\partstar>0
      \pgfmathsetmacro\starpart{#1-(int(#1))}
      \coordinate (upper left)
        at (star\partstar.outer point 2 |- star\partstar.outer point 1);
      \coordinate (upper right)
        at (star\partstar.outer point 5 |- star\partstar.outer point 1);
      \coordinate (lower right)
        at (star\partstar.outer point 5 |- star\partstar.outer point 4);
      \clip (upper left) rectangle
            ({$ (upper left)!\starpart!(upper right) $} |- lower right);
      \node[score stars=gray] at (\partstar*0.8em, 0) {};
    \fi
  \end{tikzpicture}%
}

\begin{document}
  
\maketitle

\begin{abstract}
在 QQ 群 91940767、478023327 和 640633524 时, 经常有群友咨询如何安装 \LaTeX.
本文将介绍在\textbf{未安装其他 \LaTeX{} 发行版的前提下} Windows 10、Ubuntu 和 macOS 系统中安装
\TeX{}~Live (macOS 中介绍 Mac\TeX)、升级宏包、编译简易文档等相关操作, 并多以介绍命令行操作为主.
有关 Mik\TeX{} 的安装, 可以参考 \href{https://camuseblog.top/2019-03-02-/MiKTeX/}{MiK\TeX{} 的基本使用}.

本文还将简要介绍几款常见编辑器的使用方法, 其他编辑器如 \href{https://github.com/EthanDeng/vscode-latex}{VS code}
和 \href{https://github.com/EthanDeng/sublime-text-latex}{Sublime Text}, 用户可自行了解它们的使用方法.

除在本地安装 \LaTeX{} 发行版和编辑器之外, 本文还将额外补充使用 \href{http://www.overleaf.com}{Overleaf} 的相关内容.

本文所涉及到的代码需结合上下文说明, 不能简单地复制粘贴. 红色文字都是可点的超链接, 可直接跳转.
\menu{菜单} 表示软件菜单. \keys{k} 表示键盘按键.
建议用户阅读 \href{http://www.latexstudio.net/archives/11469.html}{\LaTeXe{} 安装 \& 新手指点 FAQ}
和 \href{http://mirrors.ctan.org/info/lshort/chinese/lshort-zh-cn.pdf}{lshort-zh-ch} 以更全面地了解基础内容.

本手册发布后,
Dongsheng Deng\footnote{\url{https://github.com/EthanDeng}},
muzimuzhi\footnote{\url{https://github.com/muzimuzhi}},
Xiangdong Zeng\footnote{\url{https://github.com/stone-zeng}}
对本手册提出了很好的建议, 并提供了帮助，
其中, 有关 macOS 的内容最初由 Xiangdong Zeng 草拟完成.
在此一并感谢.
\end{abstract}

\tableofcontents

\input{./chapter/windows.tex}
\input{./chapter/ubuntu.tex}
\input{./chapter/wsl.tex}
\input{./chapter/macos.tex}
\input{./chapter/editor.tex}
\input{./chapter/overleaf.tex}
\input{./chapter/summary.tex}

\end{document}
